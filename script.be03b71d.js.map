{"version":3,"sources":["js/gallery-items.js","js/open-modal.js","js/script.js"],"names":["preview","original","description","openModal","lightboxRef","lightBoxOverlayRef","onKeyPressFunc","onLightBoxOverlayClickFunc","classList","add","window","addEventListener","refs","gallery","document","querySelector","lightbox","lightboxImage","lightBoxOverlay","makeElementMarkup","addNewElementsMarkup","insertAdjacentHTML","map","join","imageIndex","imagesArray","elem","closeModal","src","remove","removeEventListener","onKeyPress","onLightBoxOverlayClick","event","target","nodeName","onGalleryElementClick","preventDefault","contains","indexOf","getAttribute","code","currentIndex","length"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACSd,aATM,SAASC,EACdC,EACAC,EACAC,EACAC,GAEAH,EAAYI,UAAUC,IAAI,WAC1BC,OAAOC,iBAAiB,QAASL,GACjCD,EAAmBM,iBAAiB,QAASJ,GAC9C,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA;;ACwED,aAjFA,IAAA,EAAA,EAAA,QAAA,uBAGA,EAAA,QAAA,mBA8EA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5EA,IAAMK,EAAO,CACXC,QAASC,SAASC,cAAc,eAChCC,SAAUF,SAASC,cAAc,gBACjCE,cAAeH,SAASC,cAAc,oBACtCG,gBAAiBJ,SAASC,cAAc,cAG1C,SAASI,EAAsD,GAAlCnB,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YACFD,MAAAA,qCAAAA,OAAAA,EAA4CD,qCAAAA,OAAAA,EAAuBC,iBAAAA,OAAAA,EAAgBC,SAAAA,OAAAA,EAA/H,eAGF,SAASkB,IACPR,EAAKC,QAAQQ,mBACX,YACAR,EAAQS,QAAAA,IAAIH,GAAmBI,KAAK,KAGxCH,IAEA,IAmCII,EAnCEC,EAAcZ,EAAQS,QAAAA,IAAI,SAAAI,GAAQA,OAAAA,EAAKzB,WAQ7C,SAAS0B,IACPf,EAAKK,cAAcW,IAAM,GACzBhB,EAAKI,SAASR,UAAUqB,OAAO,WAC/BnB,OAAOoB,oBAAoB,QAASC,GACpCnB,EAAKM,gBAAgBY,oBAAoB,QAASE,GAGpD,SAASA,EAAuBC,GACA,QAA1BA,EAAMC,OAAOC,UACfR,IAIJ,SAASS,EAAsBH,GAC7BA,EAAMI,iBACFJ,EAAMC,OAAO1B,UAAU8B,SAAS,oBAClCd,EAAaC,EAAYc,QAAQN,EAAMC,OAAOM,aAAa,gBAC3D5B,EAAKK,cAAcW,IAAMH,EAAYD,IAEnCZ,EAAAA,EAAAA,WAAAA,EAAKI,SACLJ,EAAKM,gBACLa,EACAC,IAON,SAASD,EAAWE,GACdA,GAAe,WAAfA,EAAMQ,KAANR,CAKAS,IAAAA,EAAelB,EAEA,eAAfS,EAAMQ,KAENjB,EADEkB,EAAe,GAAKjB,EAAYkB,OACrB,EACKD,EAAe,EACX,cAAfT,EAAMQ,OAEbjB,EADEkB,EAAe,EAAI,EACRjB,EAAYkB,OAAS,EAChBD,EAAe,GAErC9B,EAAKK,cAAcW,IAAMH,EAAYD,QAfnCG,IAkBJf,EAAKC,QAAQF,iBAAiB,QAASyB","file":"script.be03b71d.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","export function openModal(\r\n  lightboxRef,\r\n  lightBoxOverlayRef,\r\n  onKeyPressFunc,\r\n  onLightBoxOverlayClickFunc,\r\n) {\r\n  lightboxRef.classList.add('is-open');\r\n  window.addEventListener('keyup', onKeyPressFunc);\r\n  lightBoxOverlayRef.addEventListener('click', onLightBoxOverlayClickFunc);\r\n}\r\n","import gallery from './gallery-items.js';\r\n\r\n// import { hello } from './open-modal.js';\r\nimport { openModal } from './open-modal.js';\r\n\r\nconst refs = {\r\n  gallery: document.querySelector('.js-gallery'),\r\n  lightbox: document.querySelector('.js-lightbox'),\r\n  lightboxImage: document.querySelector('.lightbox__image'),\r\n  lightBoxOverlay: document.querySelector('.lightbox'),\r\n};\r\n\r\nfunction makeElementMarkup({ preview, original, description }) {\r\n  return `<li><a class=\"gallery__link\" href=${original}><img class=\"gallery__image\" src=${preview} data-source=${original} alt=${description}/></a></li>`;\r\n}\r\n\r\nfunction addNewElementsMarkup() {\r\n  refs.gallery.insertAdjacentHTML(\r\n    'beforeend',\r\n    gallery.map(makeElementMarkup).join(''),\r\n  );\r\n}\r\naddNewElementsMarkup();\r\n\r\nconst imagesArray = gallery.map(elem => elem.original);\r\n\r\n// function openModal() {\r\n//   refs.lightbox.classList.add('is-open');\r\n//   window.addEventListener('keyup', onKeyPress);\r\n//   refs.lightBoxOverlay.addEventListener('click', onLightBoxOverlayClick);\r\n// }\r\n\r\nfunction closeModal() {\r\n  refs.lightboxImage.src = '';\r\n  refs.lightbox.classList.remove('is-open');\r\n  window.removeEventListener('keyup', onKeyPress);\r\n  refs.lightBoxOverlay.removeEventListener('click', onLightBoxOverlayClick);\r\n}\r\n\r\nfunction onLightBoxOverlayClick(event) {\r\n  if (event.target.nodeName !== 'IMG') {\r\n    closeModal();\r\n  }\r\n}\r\n\r\nfunction onGalleryElementClick(event) {\r\n  event.preventDefault();\r\n  if (event.target.classList.contains('gallery__image')) {\r\n    imageIndex = imagesArray.indexOf(event.target.getAttribute('data-source'));\r\n    refs.lightboxImage.src = imagesArray[imageIndex];\r\n    openModal(\r\n      refs.lightbox,\r\n      refs.lightBoxOverlay,\r\n      onKeyPress,\r\n      onLightBoxOverlayClick,\r\n    );\r\n  }\r\n}\r\n\r\nlet imageIndex;\r\n\r\nfunction onKeyPress(event) {\r\n  if (event.code === 'Escape') {\r\n    closeModal();\r\n    return;\r\n  }\r\n\r\n  let currentIndex = imageIndex;\r\n\r\n  if (event.code === 'ArrowRight') {\r\n    if (currentIndex + 1 >= imagesArray.length) {\r\n      imageIndex = 0;\r\n    } else imageIndex = currentIndex + 1;\r\n  } else if (event.code === 'ArrowLeft') {\r\n    if (currentIndex - 1 < 0) {\r\n      imageIndex = imagesArray.length - 1;\r\n    } else imageIndex = currentIndex - 1;\r\n  }\r\n  refs.lightboxImage.src = imagesArray[imageIndex];\r\n}\r\n\r\nrefs.gallery.addEventListener('click', onGalleryElementClick);\r\n"]}